# 心意廚房 - RecipeAR Assistant 🍳

> **Slogan: 有心意，就能做出好料理。**

「心意廚房」是一款結合擴增實境 (AR) 的智慧食譜應用程式，旨在解決「想為家人或自己做菜，卻因時間與技能不足而卻步」的問題。我們透過引導式的搜尋體驗、視覺化的 AR 步驟指導以及貼心的多語言語音輔助，讓烹飪變得更輕鬆、更有趣。

---

## ✨ 主要功能

* **動態歡迎頁面**
    * 啟動 App 時，由多張精美食譜圖片組成的動態跑馬燈背景牆，搭配溫馨的背景音樂和觸覺回饋，迎接您的每一次使用。

* **引導式食譜搜尋**
    * **虛擬人物互動：** 由親切的虛擬主廚（影片形式）分階段引導您完成搜尋，讓過程不再單調。
    * **多維度搜尋：** 您可以根據當下的**心情**、想做的**料理名稱或食材**，以及偏好的**菜色類別**來尋找食譜。
    * **智慧與彈性：**
        * 支援**語音輸入**和手動文字輸入。
        * 透過關鍵字匹配，能理解如「今天好累」、「想吃點辣的」等更自然的查詢。
        * 每個搜尋階段都可**直接跳過**，即使不提供任何條件，我們也會為您推薦所有精選食譜。
        * 提供隨機的推薦菜名 `Chip`，在您沒有頭緒時給予靈感。

* **視覺化食譜推薦**
    * **聯集搜尋結果：** 搜尋邏輯採用「聯集」，例如搜尋「療癒」和「湯品」，將會為您呈現所有療癒的食譜 **以及** 所有的湯品，提供更豐富的選擇。
    * **清晰的卡片設計：** 每個推薦食譜都以卡片形式呈現，清晰地展示圖片、名稱、難度星級、心情和分類標籤。
    * **滑動式詳情彈窗：** 點擊感興趣的食譜後，會彈出一個滑動式的卡片對話框，分頁展示「烹飪難度」、「必備原料和工具」、「精確用量」和「小提示」，讓資訊一目了然。

* **沉浸式 AR 步驟指導**
    * **AR 視覺化：** 進入 AR 模式後，食譜的每一步驟都會有對應的 3D 動畫在您的真實環境中呈現。
    * **雙語音軌：** 每個步驟都配有預合成的**國語**和**台語**語音檔，可隨時在 AR 頁面或設定頁中切換。
    * **可靠的互動流程：**
        * 需先在 AR 場景中放置好虛擬桌面，才能開始步驟，確保最佳體驗。
        * 步驟控制按鈕會在 Unity 動畫播放期間自動鎖定，直到動畫播放完畢後才解鎖，防止誤操作。
        * 當您更換食譜時，AR 場景會自動重置。

* **開發者友善設定**
    * 為了方便開發與測試，在設定頁面中可以動態修改後端伺服器的 URL。

---

## 🛠️ 技術棧

* **前端 (Mobile App):**
    * **框架:** Flutter (v3.22.3)
    * **主要套件:** `flutter_unity_widget`, `provider`, `http`, `audioplayers`, `video_player`, `record`, `vibration`, `smooth_page_indicator`, `flutter_staggered_animations`
* **後端 (Server):**
    * **框架:** Python + Flask
    * **主要套件:** `gunicorn`, `requests`, `neo4j`
* **資料庫 (Database):**
    * Neo4j 圖形資料庫 (v5.20.0)
* **AR 引擎 (AR Engine):**
    * Unity
* **語音辨識 (ASR):**
    * 外部實驗室提供的 Whisper API

---

## 🚀 如何安裝與使用

1.  前往本專案的 [**Releases**](https://github.com/Danielaaaaa0w0/RecipeAssistant/releases/tag/v1.0.0) 頁面。
2.  下載最新版本的 `app-release.apk` 檔案。
3.  在您的 Android 手機上安裝該 APK 檔案即可開始使用！
    *(注意：安裝時可能需要允許「安裝來自未知的應用程式」的權限)*

---

## ⚙️ 開發者設定

如果您想自行編譯或開發，請參考以下步驟：

**1. 設定後端：**
* 進入 `recipe_assistant_backend` 資料夾。
* 建立並啟動 Python 虛擬環境，並安裝依賴：`pip install -r requirements.txt`。
* 確保 Neo4j 資料庫服務已啟動並匯入數據。
* 運行 Flask 伺服器：`gunicorn --bind 0.0.0.0:8000 main:app`。

**2. 設定 Flutter 前端：**
* 進入 Flutter 專案資料夾。
* 執行 `flutter pub get`。
* 在 App 的設定頁面中，將後端 URL 指向您後端伺服器的實際 IP 地址。
* 運行 Flutter App：`flutter run`。
